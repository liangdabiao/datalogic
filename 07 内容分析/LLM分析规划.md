# 新增 LLM 版本内容分析规划

## 1. 目标

使用大型语言模型 (LLM) 替代或补充原有的基于 NLTK 的自然语言处理 (NLP) 方法，对 `分类视频.csv` 数据集中的视频 `标签` 和 `说明文字` 进行更深入的内容分析，特别是情绪分析和主题建模，以发现更具洞察力的价值。

## 2. 分析思路

原有的 NLTK 方法主要基于词频和简单的情绪词典 (VADER)。LLM 可以提供以下优势：
*   **更准确的情绪分析**: LLM 能够理解上下文和讽刺，提供更细致的情绪评分（如积极、消极、中性、愤怒、喜悦等）和强度。
*   **主题建模与摘要**: LLM 可以识别标签和说明文字中的核心主题，并为每个视频或每个类别生成摘要。
*   **语义理解**: 能够处理更复杂的语言结构，捕捉关键词之间的语义关系。

### 2.1 数据准备
1.  从 `分类视频.csv` 中提取 `分类`、`标签` 和 `说明文字` 字段。
2.  数据清洗：去除无关字符、标准化文本格式。
3.  （可选）数据采样：由于 LLM 调用成本较高，可先对数据进行采样（例如，按类别抽取一定数量的样本）进行分析验证。

### 2.2 模型选择
考虑到项目可能在中国环境下的应用，优先考虑以下模型：
*   **通义千问 (Qwen)**: 阿里巴巴的 Qwen 系列模型在中文处理上表现优异。
*   **文心一言 (ERNIE Bot)**: 百度的大模型。
*   **讯飞星火 (Spark)**: 科大讯飞的大模型。
*   **混元 (HunYuan)**: 腾讯的大模型。
*   **开源模型**: 如 ChatGLM, Baichuan 等，可考虑本地部署以降低成本和提高数据安全性。

### 2.3 分析任务
1.  **细粒度情绪分析**:
    *   对每个视频的 `标签` 和 `说明文字` 调用 LLM 进行情绪分析。
    *   输出情绪类别（如：非常积极, 积极, 中性, 消极, 非常消极）及其置信度分数。
    *   按 `分类` 聚合，比较不同类别视频的整体情绪倾向。
2.  **主题提取与摘要**:
    *   对每个视频的 `说明文字` 或 `标签` 集合，让 LLM 提取 3-5 个核心关键词或短语作为主题。
    *   为每个 `分类` 生成代表性视频说明文字的摘要。
3.  **热门话题发现**:
    *   分析特定时间段内（如近期）的视频，利用 LLM 识别出新兴或热度上升的主题。

### 2.4 实现步骤
1.  **环境搭建**:
    *   选择一个 LLM API (如 DashScope for Qwen) 或部署一个开源模型。
    *   安装必要的 Python 库，如 `dashscope` (如果使用 Qwen) 或 `transformers` (如果使用 Hugging Face 的开源模型)。
2.  **编写分析函数**:
    *   编写调用 LLM API 的函数，用于执行情绪分析、主题提取和摘要生成。
    *   定义清晰的 Prompt，指导模型完成任务。
    *   （重要）加入重试机制和错误处理，以应对 API 调用失败。
3.  **数据处理与分析**:
    *   使用 `pandas` 读取 `分类视频.csv`。
    *   遍历数据集（或采样集），对每个视频的指定字段调用编写的 LLM 分析函数。
    *   将 LLM 的输出结果（情绪、主题、摘要）存储回 DataFrame。
4.  **结果可视化**:
    *   使用 `matplotlib` 或 `seaborn` 对 LLM 分析得到的情绪分布、主题频率等进行可视化。
    *   与原有的 NLTK 分析结果进行对比，展示 LLM 带来的差异和优势。

### 2.5 预期成果
*   一个更新版的 Jupyter Notebook (`内容分析_llm.ipynb`)，其中包含了使用 LLM 进行内容分析的完整代码和可视化结果。
*   更深入、更准确的视频内容情绪分析报告。
*   基于视频说明文字和标签的自动主题提取和分类摘要。