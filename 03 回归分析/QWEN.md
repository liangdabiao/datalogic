# Qwen Code Context: 房价预测数据分析项目

## 项目概述

这是一个使用Python进行的房价预测数据分析项目。项目的核心目标是基于100条房屋记录（特征包括面积、房间数、位置、房龄等），通过数据清洗、特征工程、模型训练和可视化分析，构建一个高精度的房价预测模型。根据最终报告，项目成功实现了R²=0.990的随机森林模型。

### 技术栈

- **主要语言**: Python
- **核心库**: pandas, scikit-learn, numpy, matplotlib/seaborn
- **数据格式**: CSV
- **文档格式**: Markdown

### 项目结构

项目目录包含数据文件、Python脚本、生成的图表和分析报告。

- **数据源**: `房价预测数据.csv` (原始数据), `房价数据_分析版.csv` (处理后的标准数据)
- **核心脚本**:
  - `模型训练与评估.py`: 构建和评估预测模型（线性回归、随机森林、决策树）。
  - `最终中文可视化.py`: 生成关键的中文可视化图表。
  - `清洗后的数据分析.py`: 数据预处理和初步探索。
- **分析报告**: `房价分析最终报告.md` (综合技术报告), `房价可视化洞察报告.md`
- **可视化图表**: 多个PNG文件，如 `中文房价分析图.png`, `房价基础可视化.png` 等。

## 关键发现与洞察

### 核心驱动因素 (来自 `房价分析最终报告.md`)

房价受多个因素影响，根据随机森林模型的特征重要性分析，排名前五的因素是：

1.  **面积 (45.2%)**: 每增加1㎡，预估价格提升约1.1万。
2.  **房间数 (26.7%)**: 每增加1个房间，约增加20-30万。
3.  **距离总分 (12.5%)**: 地铁、学校、商场的距离综合影响。
4.  **房龄 (7.5%)**: 房龄每增加1年，降价约5万。
5.  **装修等级 (4.0%)**: 豪华装修比毛坯溢价约15-20万。

### 模型性能 (来自 `房价分析最终报告.md` 和 `模型训练与评估.py`)

- **最佳模型**: 随机森林 (R² = 0.990, MAE = 23,415, RMSE = 39,281)
- **基准模型**: 线性回归 (R² = 0.957)
- **其他模型**: 决策树 (R² = 0.949, 但有过拟合风险)

### 业务洞察 (来自 `房价分析最终报告.md`)

- **装修溢价**: 豪华装修比毛坯均价溢价约+40%。
- **小区等级溢价**: 豪华小区、高档小区、普通小区的价格差异显著。
- **地段价值**: 地铁距离每远1km，平均降价30万；学校距离影响类似。

## 如何运行和使用

### 环境准备

确保安装了Python以及以下库：

```bash
pip install pandas scikit-learn matplotlib seaborn numpy
```

### 运行分析流程

1.  **数据预处理与初步分析**: 运行 `清洗后的数据分析.py` (如果需要从原始数据开始)。
2.  **模型训练与评估**: 运行 `模型训练与评估.py`。该脚本会加载`房价数据_分析版.csv`，执行特征工程，训练多个模型，并输出性能指标和特征重要性。
3.  **生成可视化图表**: 运行 `最终中文可视化.py` 或 `简化可视化分析.py` 生成图表。
4.  **查看报告**: 阅读 `房价分析最终报告.md` 和 `房价可视化洞察报告.md` 获取详细分析和洞察。

### 使用预测模型

`模型训练与评估.py` 脚本的 `generate_predictions_example` 函数展示了如何使用训练好的模型进行新数据的房价预测。

## 开发约定和注意事项

- 所有脚本均使用UTF-8编码处理CSV文件（`encoding='utf-8-sig'`）。
- 特征工程包括创建房龄、楼层比例、房间密度、距离总分等衍生特征。
- 分类变量（如装修等级、小区类型）通过映射为数值进行处理。
- 模型评估使用了训练/测试集划分和交叉验证（在脚本中体现）。
- 项目文件命名清晰，便于理解其功能。